<div class="flex flex-col flex-auto w-full" *transloco="let t; read: 'Services'">

    <div class="flex flex-wrap w-full mx-auto px-6 md:px-8">

        <div class="grid grid-cols-1 xl:grid-cols-2 gap-8 w-full mt-4">
            <!-- Services table -->
            <div class="xl:col-span-2 flex flex-col flex-auto bg-card shadow rounded-2xl relative" #pdfTable>
                <table id="pdfTable"
                       class="w-full bg-transparent"
                       mat-table
                       matSort
                       [fixedLayout]="true"
                       [dataSource]="_servicesDataSource"
                       [trackBy]="trackByFn"
                       (matSortChange)="sortData($event)"
                >

                    <ng-container matColumnDef="Name">
                        <th
                            mat-header-cell
                            mat-sort-header="Name"
                            *matHeaderCellDef
                            class="min-w-32">
                            {{t('Name')}}
                        </th>
                        <td
                            mat-cell
                            *matCellDef="let service">
                                    <span class="pr-6 whitespace-nowrap">
                                        {{service.Name}}
                                    </span>
                    </ng-container>

                    <ng-container matColumnDef="Version">
                        <th
                            mat-header-cell
                            mat-sort-header="Version"
                            *matHeaderCellDef
                            class="min-w-32">
                            {{t('Version')}}
                        </th>
                        <td
                            mat-cell
                            *matCellDef="let service">
                                <span class="pr-6 whitespace-nowrap">
                                    {{service.Version}}
                                </span>
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="Status">
                        <th
                            mat-header-cell
                            mat-sort-header="Status"
                            *matHeaderCellDef
                            class="min-w-32">
                            {{t('Status')}}
                        </th>
                        <td
                            mat-cell
                            *matCellDef="let service">
                                <span class="pr-6 whitespace-nowrap">
                                    <ng-container *ngIf="service.Status === 'running'; else notAllowed">
                                        <mat-icon
                                            class="text-green-600"
                                            svgIcon="heroicons_solid:check-circle">
                                        </mat-icon>
                                    </ng-container>
                                    <ng-template #notAllowed>
                                        <mat-icon
                                            svgIcon="heroicons_solid:plus-circle"
                                            class="text-red-600"
                                            style="transform: rotate(45deg)"
                                            [matTooltip]="service.Status | titlecase"
                                        ></mat-icon>
                                    </ng-template>
                                </span>
                        </td>
                    </ng-container>

                    <tr
                        mat-header-row
                        *matHeaderRowDef="_servicesTableColumns; sticky: true"></tr>
                    <tr
                        class="order-row h-16"
                        mat-row
                        *matRowDef="let row; columns: _servicesTableColumns;"></tr>
                </table>
            </div>

        </div>

    </div>

</div>
